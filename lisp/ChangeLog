2003-09-02  Daiki Ueno  <ueno@unixuser.org>

	* riece-commands.el (riece-command-join): Extract target
	identity-prefix before applying riece-channel-p; format target.

2003-08-30  Daiki Ueno  <ueno@unixuser.org>

	* Riece: Version 0.1.1 released.
	* riece-version.el (riece-version-number): Bump up to 0.1.1.

2003-08-29  Daiki Ueno  <ueno@unixuser.org>

	* riece-guess.el (riece-guess-channel-try-functions): Default to
	nil.
	(riece-default-guess-channel): Abolish.
	(riece-command-guess-switch-to-channel): Reconstruct
	riece-guess-candidates when it is empty.

2003-08-28  Daiki Ueno  <ueno@unixuser.org>

	* riece-highlight.el (riece-dialogue-change-face): Use defvar to
	define.
	(riece-dialogue-notice-face): Ditto.
	(riece-dialogue-wallops-face): Ditto.
	(riece-dialogue-error-face): Ditto.
	(riece-dialogue-info-face): Ditto.
	(riece-dialogue-server-face): Ditto.
	(riece-dialogue-prefix-face): Ditto.
	(riece-channel-list-default-face): Ditto.
	(riece-channel-list-current-face): Ditto.

	* riece-unread.el (riece-channel-list-unread-face): Use defvar to
	define.

2003-08-27  Daiki Ueno  <ueno@unixuser.org>

	* riece-history.el (riece-history-insinuate): Don't set
	riece-guess-channel-try-functions here.
	(riece-history-requires): Don't require riece-guess.

	* riece-unread.el (riece-unread-requires): Don't require
	riece-guess.
	(riece-unread-insinuate): Don't set
	riece-guess-channel-try-functions here.

2003-08-27  Daiki Ueno  <ueno@unixuser.org>

	* riece-unread.el (riece-unread-after-display-message-function):
	Rename from riece-unread-display-message-function.
	(riece-unread-after-switch-to-channel-function): Rename from
	riece-unread-channel-switch-hook.
	(riece-guess-channel-from-unread): New function.
	(riece-unread-requires): Require 'riece-guess and 'riece-history.
	(riece-unread-insinuate): Setup riece-guess-channel-try-functions.

	* riece-options.el (riece-addons): Add riece-guess, riece-history,
	and riece-url.

	* riece-layout.el (riece-reconfigure-windows-predicate): Don't
	check riece-last-channel.

	* riece-display.el (riece-switch-to-channel): Rename
	riece-channel-switch-hook to
	riece-after-switch-to-channel-functions.
	(riece-switch-to-nearest-channel): Ditto.

	* riece-guess.el: New add-on.
	* COMPILE (riece-modules): Add riece-guess.
	* Makefile.am (EXTRA_DIST): Add riece-guess.el

	* riece-history.el: New add-on.
	* COMPILE (riece-modules): Add riece-history.
	* Makefile.am (EXTRA_DIST): Add riece-history.el

2003-08-27  Daiki Ueno  <ueno@unixuser.org>

	* riece-options.el (riece-connection-timeout): Abolish.

	* riece-server.el (riece-clear-system): Abolish.
	* riece.el (riece-exit): Merge riece-clear-system.

2003-08-26  Daiki Ueno  <ueno@unixuser.org>

	* riece-filter.el (riece-sentinel): Suppress status message when
	riece-debug is nil.

2003-08-26  Daiki Ueno  <ueno@unixuser.org>

	* riece-highlight.el (riece-channel-list-mark-current-channel):
	New function.

	* riece-display.el (riece-channel-list-changed): New variable.
	(riece-update-channel-list-buffer): Check riece-channel-list-changed.
	(riece-update-channel-list-indicator): Ditto.

2003-08-26  Daiki Ueno  <ueno@unixuser.org>

	* riece-options.el (riece-addons): Enable riece-unread by default.

	* riece-highlight.el (riece-channel-list-current-face): New variable.
	(riece-channel-list-default-face): New face.

	* riece-globals.el (riece-channel-list-buffer): Strip leading
	whitespace.

2003-08-26  Daiki Ueno  <ueno@unixuser.org>

	* riece-unread.el: Require 'riece-highlight when compiling.
	(riece-unread): New custom group.
	(riece-channel-list-unread-face): New variable.
	(riece-channel-list-unread-face): New face.
	(riece-unread-requires): New function.
	(riece-unread-insinuate): Add ?! to riece-channel-list-mark-face-alist.

	* riece-highlight.el: Highlight *Channels* buffer; rename
	riece-*-face -> riece-dialogue-*-face, riece-highlight-* ->
	riece-dialogue-*.
	(riece-channel-list-font-lock-keywords): New variable.
	(riece-channel-list-mark-face-alist): New variable.

2003-08-25  Daiki Ueno  <ueno@unixuser.org>

	* riece-unread.el (riece-unread-update-channel-list-buffer):
	Restore channel marks if exist.

	* riece-naming.el (riece-naming-assert-join): Don't set
	riece-redisplay-buffers.
	(riece-naming-assert-part): Ditto.
	(riece-naming-assert-rename): Ditto.

	* riece-display.el (riece-redisplay-buffers): Abolish.
	(riece-update-user-list-buffer): Don't check
	riece-redisplay-buffers.
	(riece-update-channel-list-buffer): Ditto; prefix "*" at the
	beginning of the current channel.
	(riece-switch-to-channel): Don't set riece-redisplay-buffers.
	(riece-join-channel): Ditto.
	(riece-part-channel): Ditto.

2003-08-25  Daiki Ueno  <ueno@unixuser.org>

	* riece-display.el (riece-join-channel): Parse non-nil elements in
	riece-default-channel-binding.

2003-08-25  Daiki Ueno  <ueno@unixuser.org>

	* riece-identity.el (riece-format-identity): Add 'riece-identity
	property to the resulting string.

	* riece-misc.el (riece-concat-channel-topic): Don't append ":" if
	topic is "".

	* riece-300.el (riece-handle-322-message): Simplify message.

	* riece-commands.el (riece-command-change-layout): Call
	riece-command-configure-windows; Use setq instead of
	custom-set-variables.

2003-08-25  Daiki Ueno  <ueno@unixuser.org>

	* Riece: Version 0.1.0 released.
	* riece-version.el (riece-version-number): Bump up to 0.1.0.

2003-08-25  Daiki Ueno  <ueno@unixuser.org>

	* COMPILE (riece-compile-modules): Ignore errors during byte
	compilation.
	(riece-install-modules): If there lacks a compiled module, don't
	attempt to install it.

	* riece-options.el (riece-quit-timeout): Default to 10.

	* riece.el (riece-dialogue-mode-map): Bind riece-command-change-layout.
	(riece): Switch to riece-command-buffer before riece-redisplay-buffers.

	* riece-unread.el: Require 'riece-commands.

	* riece-server.el: Require 'riece-identity and 'riece-compat.

	* riece-ndcc.el: Require 'riece-globals, 'riece-options,
	'riece-display.
	(riece-handle-dcc-request): Use riece-channel-buffer-name.

	* riece-identity.el: Don't require 'riece-server.

	* riece-doctor.el: Require 'riece-globals, 'riece-identity,
	'riece-message, and 'riece-server.

	* riece-ctcp.el: Require 'riece-display.

	* riece-commands.el: Require 'riece-layout.
	(riece-command-change-layout): New command.

	* riece-alias.el: Require 'riece-identity.

	* riece-layout.el: No longer provided as an add-on.
	* riece-display.el: Remove window configuration stuff.

2003-08-24  Daiki Ueno  <ueno@unixuser.org>

	* riece-rdcc.el (riece-command-dcc-send): Bind
	process-connection-type to nil.

	* riece-300.el (riece-handle-319-message): New handler.

	* riece.el (riece-buffer-mode-alist): Add riece-command-buffer.
	(riece): Signal an error when a server is opened;
	No need to initialize riece-command-buffer specially.

2003-08-22  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* riece-display.el (riece-configure-windows-top): Set
	`truncate-partial-width-windows' nil, when horizontal window
	split.

2003-08-21  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* riece-display.el (riece-configure-windows-top): Change
	user-list-buffer and channel-list-buffer window create logic.

	* riece-skk-kakutei.el (riece-skk-kakutei-insinuate): Add
	require riece.el when compile.

	* riece.el (riece): Use `riece-redisplay-buffers' instead of
	`riece-configure-windows'.

2003-08-20  TAKAHASHI Kaoru  <kaoru@kaisei.org>

	* riece-display.el (riece-configure-windows-top): New function.
	* riece-layout.el (riece-layout-alist): Add top.

	* riece-skk-kakutei.el: New add-on.
	* COMPILE (riece-modules): Add riece-skk-kakutei.
	* Makefile.am (EXTRA_DIST): Add riece-skk-kakutei.el

2003-08-19  Daiki Ueno  <ueno@unixuser.org>

	* riece-layout.el: New add-on.
	* COMPILE (riece-modules): Add riece-layout.
	* Makefile.am (EXTRA_DIST): Add riece-layout.el

2003-08-17  Daiki Ueno  <ueno@unixuser.org>

	* riece-options.el (riece-quit-timeout): New user option.
	* riece-server.el (riece-quit-server-process): New function.
	* riece-commands.el (riece-command-quit): Use it.
	(riece-command-close-server): Use it.

2003-08-17  Daiki Ueno  <ueno@unixuser.org>

	* riece-commands.el (riece-command-previous-channel): Skip nil in
	riece-current-channels.

2003-08-09  Daiki Ueno  <ueno@unixuser.org>

	* riece-rdcc.el (riece-command-dcc-send): Accept output only from
	the ruby process.

	* riece-xemacs.el: Don't require 'riece-compat.

2003-08-06  Daiki Ueno  <ueno@unixuser.org>

	* riece-unread.el (riece-unread-update-channel-list-buffer): Call
	riece-parse-identity.

2003-08-04  Daiki Ueno  <ueno@unixuser.org>

	* riece-server.el (riece-find-server-name): Abolish.

	* riece-alias.el: Add usage.

2003-08-04  Daiki Ueno  <ueno@unixuser.org>

	* riece-mini.el (riece-mini-send-message): Use
	riece-completing-read-identity; don't use riece-own-channel-message.

	* riece-identity.el: Require 'riece-compat.
	(riece-identity-prefix-case-table): New variable.
	(riece-abbrev-identity-string-function): New variable.
	(riece-expand-identity-string-function): New variable.
	(riece-format-identity): Rename from riece-decode-identity.
	(riece-parse-identity): Rename from riece-encode-identity.
	(riece-with-identity-buffer): Abolish.
	(riece-identity-canonicalize-prefix): Use case-table.	

	* riece-filter.el (riece-handle-numeric-reply): Decode messages.
	(riece-handle-message): Ditto.

	* riece-alias.el: New add-on.
	* COMPILE (riece-modules): Add riece-alias.
	* Makefile.am (EXTRA_DIST): Add riece-alias.el.

	* riece-emacs.el (riece-set-case-syntax-pair): New alias.
	* riece-xemacs.el (riece-set-case-syntax-pair): New alias.
	* riece-identity.el (riece-identity-canonicalize-prefix): Simplified.

2003-08-03  Daiki Ueno  <ueno@unixuser.org>

	* Riece: Version 0.0.4 released.
	* riece-version.el (riece-version-number): Bump up to 0.0.4.

2003-06-24  OHASHI Akira  <bg66@koka-in.org>

	* riece-unread.el (riece-unread-display-message-function): Don't check
	`selected-window'. It doesn't work as expected.

2003-06-23  Daiki Ueno  <ueno@unixuser.org>

	* riece-misc.el (riece-channel-p): Moved from riece-channel.el.

	* riece-300.el: Rewrite using riece-decode-identity.

	* riece-identity.el (riece-completing-read-identity): Signal an
	error when the encoded channel name is not matched with
	riece-channel-regexp.

	* riece-globals.el (riece-channel-regexp): Moved from
	riece-channel.el.
	(riece-user-regexp): Moved form riece-user.el.

2003-06-23  Daiki Ueno  <ueno@unixuser.org>

	* riece-handle.el (riece-handle-join-message): Don't call
	riece-switch-to-channel.
	(riece-handle-part-message): Don't decode message if it is empty.
	(riece-handle-kick-message): Ditto.
	(riece-handle-quit-message): Ditto.
	(riece-handle-kill-message): Ditto.

	* riece-commands.el (riece-command-part): Show the current channel
	as default candidate.

	* riece-identity.el (riece-completing-read-identity): Accept
	optional 5th argument `initial'.

	* riece-unread.el (riece-unread-update-channel-list-buffer):
	Simplified.

	* riece-filter.el (riece-sentinel): Don't bind
	riece-inhibit-update-buffers.

	* riece-display.el (riece-redisplay-buffer): New variable.
	(riece-inhibit-update-buffers): Abolish.
	(riece-update-channel-list-buffer): Memorize
	encoded identity as text property on each line.	

	* riece.el (riece-channel-list-mode): Make riece-redisplay-buffer
	buffer local.
	(riece-user-list-mode): Ditto.

2003-06-22  Yoichi NAKAYAMA  <yoichi@geiin.org>

	* riece-log.el, riece-mini.el, riece-unread.el, riece-url.el:
	Fix example setting, don't use 3rd arg of add-to-list.

	* riece-coding.el (riece-default-coding-system): Fix default value.

2003-06-22  Daiki Ueno  <ueno@unixuser.org>

	* riece-display.el (riece-inhibit-update-buffers): New variable.
	* riece-filter.el (riece-sentinel): Bind
	riece-inhibit-update-buffers while removing channels from
	riece-current-channels.
	* riece-unread.el (riece-unread-display-message-function): Don't
	update channel list buffer when riece-inhibit-update-buffers is
	non-nil.
	(riece-unread-channel-switch-hook): Ditto.
	(riece-unread-insinuate): Add
	riece-unread-update-channel-list-buffer to
	riece-update-buffer-functions.

	* riece-commands.el (riece-command-switch-to-channel): Call
	riece-redisplay-buffers instead of riece-command-configure-windows.

	* riece-identity.el (riece-completing-read-identity): Remove nil
	from riece-current-channels before converting it to an alist.

2003-06-17  OHASHI Akira  <bg66@koka-in.org>

	* riece-unread.el (riece-unread-display-message-function): Check a
	`selected-window'.

	* riece-mini.el: New add-on.
	* COMPILE (riece-modules): Add `riece-mini'.
	* Makefile.am (EXTRA_DIST): Add `riece-mini.el'.

	* riece-display.el (riece-channel-buffer-create): Add new hook.
	* riece-log.el: New add-on for saving irc logs.
	* COMPILE (riece-modules): Add `riece-log'.
	* Makefile.am (EXTRA_DIST): Add `riece-log.el'.

	* riece-commands.el (riece-command-join): Use `let*' instead of `let'.
	(riece-command-part): Ditto.

2003-06-12  Daiki Ueno  <ueno@unixuser.org>

	* riece-naming.el (riece-naming-assert-join): Call
	riece-update-buffers.
	(riece-naming-assert-part): Ditto.

	* riece-filter.el (riece-sentinel): Don't bind
	riece-overriding-server-name; use riece-part-channel.

	* riece-display.el (riece-switch-to-channel): Don't set
	riece-channel-buffer.
	(riece-update-buffers): Set riece-channel-buffer here.

	* riece-commands.el (riece-command-switch-to-channel-by-number): Fixed.
	(riece-command-close-server): Fixed completion bug.
	(riece-command-universal-server-name-argument): Ditto.

2003-06-12  Daiki Ueno  <ueno@unixuser.org>

	* riece-doctor.el: Don't require 'doctor; autoload doctor-mode and
	doctor-read-print.

	* riece-handle.el (riece-handle-nick-message): Use
	riece-decode-identity to decode user.
	(riece-handle-join-message): Ditto.
	(riece-handle-part-message): Ditto.
	(riece-handle-kick-message): Ditto.
	(riece-handle-quit-message): Ditto.
	(riece-handle-kill-message): Ditto.
	(riece-handle-invite-message): Ditto.
	(riece-handle-topic-message): Ditto.
	(riece-handle-mode-message): Ditto.

2003-06-12  Daiki Ueno  <ueno@unixuser.org>

	* riece-message.el (riece-own-channel-message): Abolish.

	* riece-commands.el (riece-command-send-message): Don't use
	riece-own-channel-message.

	* riece-doctor.el (riece-doctor-reply): Don't use
	riece-own-channel-message.
	(riece-doctor-hello-regexp): New user option.
	(riece-doctor-bye-regexp): New user option.

2003-06-11  Daiki Ueno  <ueno@unixuser.org>

	* riece-identity.el (riece-identity-member-no-server): Abolish.

	* riece-doctor.el (riece-doctor-patients): Make it global variable.
	(riece-doctor-after-privmsg-hook): Use riece-identity-member
	instead of riece-identity-member-no-server.

2003-06-11  Daiki Ueno  <ueno@unixuser.org>

	* riece-doctor.el: New add-on.
	* COMPILE (riece-modules): Add riece-doctor.
	* Makefile.am (EXTRA_DIST): Add riece-doctor.el

2003-06-11  Daiki Ueno  <ueno@unixuser.org>

	* riece-handle.el (riece-handle-nick-message): Follow the change
	of riece-identity-member.

	* riece-commands.el (riece-command-next-channel): Use
	riece-identity-member instead of riece-identity-member-no-server.
	(riece-command-previous-channel): Ditto.

2003-06-11  Daiki Ueno  <ueno@unixuser.org>

	* riece-identity.el (riece-completing-read-identity): Remove nil
	from channels before completing-read.

	* riece-message.el (riece-message-make-name): Fix condition for priv.
	(riece-message-make-global-name): Ditto.
	(riece-message-buffer): Ditto.

	* riece-misc.el (riece-current-nickname): Use
	riece-with-identity-buffer.

2003-06-11  Daiki Ueno  <ueno@unixuser.org>

	* riece-message.el (riece-message-parent-buffers): Regard message's
	speaker as target when priv mode.

	* riece-display.el (riece-update-channel-indicator): Decode
	riece-current-channel even in priv mode.

	* riece-identity.el (riece-decode-identity): Respect prefix-only.
	(riece-completing-read-identity): Check if illegal characters in
	channel name.

2003-06-08  Daiki Ueno  <ueno@unixuser.org>

	* riece.el (riece-buffer-mode-alist): Add riece-user-list-buffer.
	* riece-globals.el (riece-user-buffer-format): Abolish.
	(riece-user-list-buffer): Default to " *Users*".
	* riece-display.el (riece-user-list-buffer-name): Abolish.
	(riece-user-list-buffer-create): Abolish.

2003-06-08  Daiki Ueno  <ueno@unixuser.org>

	* riece-filter.el (riece-handle-numeric-reply): Don't decode messages.
	(riece-handle-message): Ditto.
	(riece-sentinel): Clear system here.

	* riece-server.el (riece-server-process-name): New function.
	(riece-server-process): New function.
	(riece-close-server): Abolish.

	* riece-identity.el: Adopt vector object representation for
	identity objects.
	(riece-with-identity-buffer): New macro.
	(riece-decode-identity): New function.
	(riece-encode-identity): New function.

	* riece-globals.el (riece-process-list): New variable.
	(riece-server-process-alist): Abolish.
	(riece-channel-buffer-alist): Abolish.
	(riece-user-list-buffer-alist): Abolish.
	(riece-short-channel-indicator): New variable.

	* riece-channel.el: Assume that we are already in the server buffer.
	* riece-user.el: Likewise.

2003-06-06  OHASHI Akira  <bg66@koka-in.org>

	* riece-ndcc.el (riece-ndcc-server-sentinel): Close a parenthesis.

	* riece-rdcc.el (riece-rdcc-insinuate): Don't use the 3rd argument of
	`add-to-list'.

2003-06-06  Daiki Ueno  <ueno@unixuser.org>

	* riece-channel.el (riece-forget-channel): Fixed.
	(riece-channel-modeless-regexp): Abolish.
	(riece-channel-modeless-p): Abolish.

2003-06-06  OHASHI Akira  <bg66@koka-in.org>

	* riece-unread.el (riece-unread-display-message-function): Delete the
	target before adding to list.
	(riece-unread-switch-to-channel): New function.
	(riece-unread-insinuate): Bind "\C-c\C-u" to riece-command-mode-map.
	Bind "u" to riece-dialogue-mode-map.
	Bind "u" to riece-channel-list-mode-map.

	* riece.el (riece-channel-list-mode-map): Don't bind
	`riece-command-unread-channel'.

2003-06-04  Yoichi NAKAYAMA  <yoichi@geiin.org>

	* riece-000.el,riece-200.el,riece-300.el,riece-400.el,riece-500.el,
	riece-commands.el,riece-filter.el,riece-handle.el,riece-highlight.el
	riece-identity.el,riece-message.el,riece-misc.el,riece-naming.el,
	riece.el: Don't require riece-inlines since it has been removed.

2003-06-03  Daiki Ueno  <ueno@unixuser.org>

	* riece-display.el (riece-update-user-list-buffer): Rename from
	riece-user-list-update-buffer.
	(riece-update-channel-list-buffer): Rename from
	riece-channel-list-update-buffer.

2003-06-03  Daiki Ueno  <ueno@unixuser.org>

	* riece-identity.el (riece-identity-canonicalize-prefix): Moved
	from riece-inlines.el; renamed from scandinavian-downcase.
	(riece-identity-equal-no-server): Moved from riece-inlines.el;
	renamed from scandinavian-equal-ignore-case.
	(riece-identity-equal-no-server-safe): New function.
	(riece-identity-member-no-server): Moved from riece-inlines.el;
	renamed from scandinavian-member-ignore-case.
	(riece-identity-member-no-server-safe): New function.

	* riece-inlines.el: Removed.
	* COMPILE (riece-modules): Remove riece-inlines.
	* Makefile.am (EXTRA_DIST): Remove riece-inlines.el.

2003-06-03  Daiki Ueno  <ueno@unixuser.org>

	* riece-rdcc.el (riece-rdcc-sentinel): Don't call delete-process
	explicitly.
	* riece-ndcc.el: Don't call delete-process explicitly.
	* riece-server.el (riece-close-server-process): Don't call
	delete-process explicitly unless riece-debug == t.

2003-06-03  Daiki Ueno  <ueno@unixuser.org>

	* riece-inlines.el (scandinavian-downcase): New inline function.
	(scandinavian-equal-ignore-case): Rename from
	string-equal-ignore-case.
	(scandinavian-member-ignore-case): Rename from
	string-list-member-ignore-case.

	* riece-identity.el (riece-identity-equal): Rename from
	riece-identity-equal-no-server; use scandinavian-equal-ignore-case.
	(riece-identity-equal-safe): Rename from riece-identity-equal.
	(riece-identity-member): Rename from riece-identity-member-no-server.
	(riece-identity-member-safe): Rename from riece-identity-member.
	(riece-identity-assoc): Rename from riece-identity-assoc-no-server.
	(riece-identity-assoc-safe): Rename from riece-identity-assoc.

2003-06-03  Daiki Ueno  <ueno@unixuser.org>

	* riece-rdcc.el: Require 'riece-ctcp.
	(riece-rdcc-insinuate): Add "DCC" to
	riece-ctcp-additional-clientinfo.

	* riece-ctcp.el (riece-ctcp-additional-clientinfo): New variable.
	(riece-command-ctcp-clientinfo): New command.
	(riece-ctcp-insinuate): Bind it in riece-dialogue-mode-map.
	(riece-handle-ctcp-clientinfo-request): New handler.
	(riece-handle-ctcp-clientinfo-response): New handler.

	* riece-server.el (riece-open-server): No need to use
	get-buffer-create to reuse process buffer.

2003-06-03  Daiki Ueno  <ueno@unixuser.org>

	* riece-rdcc.el (riece-command-dcc-send): Generate new buffer for
	DCC process.
	(riece-command-dcc-receive): Likewise; don't set buffer-file-name.

	* riece-server.el (riece-server-keyword-map): `:coding-system' ->
	`:coding'.
	(riece-open-server): Follow the change.

	* riece-ctcp.el (riece-command-ctcp-action): New command.
	(riece-ctcp-insinuate): Bind it in riece-dialogue-mode-map.
	(riece-handle-ctcp-action-request): New handler.

	* riece.el (riece-command-mode): Enclose status indicators with
	`{}'; show riece-user-indicator.
	(riece-channel-mode): Likewise.
	(riece-dialogue-mode): Enclose status indicators with `{}'.
	* riece-globals.el (riece-user-indicator): New indicator.
	(riece-freeze-indicator): Default to "-".
	* riece-display.el (riece-update-channel-indicator): Don't update
	modeline.
	(riece-update-status-indicators): Set riece-user-indicator.
	* riece-300.el (riece-handle-324-message): Update channel indicator.

2003-06-02  Daiki Ueno  <ueno@unixuser.org>

	* riece.el (riece-command-mode): Don't set riece-freeze-indicator.
	(riece-dialogue-mode): Call riece-update-status-indicators.
	(riece-channel-mode): Add riece-operator-indicator to
	mode-line-buffer-identification.
	* riece-user.el (riece-make-user): New attribute `operator'.
	(riece-user-operator): New function.
	(riece-user-set-operator): New function.
	(riece-user-toggle-away): New function.
	(riece-user-toggle-operator): New function.
	* riece-misc.el (riece-own-frozen): Revive.
	* riece-message.el (riece-display-message): Reset riece-freeze if
	riece-freeze == 'own && (riece-message-own-p message).
	* riece-globals.el (riece-own-freeze): Abolish; use riece-freeze.
	(riece-operator-indicator): New variable.
	* riece-display.el (riece-update-status-indicators): New function.
	(riece-update-buffer-functions): Add it.
	* riece-commands.el (riece-command-toggle-freeze): Don't call
	riece-freeze.
	(riece-command-toggle-own-freeze): Don't call riece-own-freeze.
	* riece-300.el (riece-handle-302-message): Use
	riece-user-toggle-away instead of riece-user-set-away.
	(riece-handle-301-message): Ditto.
	(riece-handle-305-message): Ditto.
	(riece-handle-306-message): Ditto.
	(riece-handle-352-message): Ditto.

2003-06-02  Yoichi NAKAYAMA  <yoichi@geiin.org>

	* riece-commands.el (riece-command-next-channel): Circularly
	follow the channel list.
	(riece-command-previous-channel): Ditto.

2003-06-02  Daiki Ueno  <ueno@unixuser.org>

	* riece.el (riece-command-mode): Set default value of riece-freeze
	& riece-own-freeze.
	* riece-options.el (riece-away-message): New user option.
	* riece-commands.el (riece-command-toggle-away): Query user away
	message.
	* riece-300.el (riece-handle-301-message): Set user's away status.
	(riece-handle-305-message): Ditto.
	(riece-handle-306-message): Ditto.
	(riece-handle-302-message): Ditto.
	(riece-handle-352-message): Ditto.

2003-06-02  Daiki Ueno  <ueno@unixuser.org>

	* riece-rdcc.el: Require riece-globals, riece-misc, riece-channel,
	and riece-identity.
	(riece-command-dcc-receive): Check the existence of
	set-buffer-multibyte.

2003-06-02  Daiki Ueno  <ueno@unixuser.org>

	* Riece: Version 0.0.3 released.
	* riece-version.el (riece-version-number): Bump up to 0.0.3.

	* riece-ctcp.el (riece-handle-ctcp-request): Catch errors occured
	in hooks.
	(riece-handle-ctcp-response): Ditto.

2003-06-01  Daiki Ueno  <ueno@unixuser.org>

	* riece-user.el (riece-rename-user): Don't modify entry when
	old-name == new-name.

	* riece-display.el (riece-configure-windows): Use window-buffer
	instead of current-buffer.

	* riece-rdcc.el (riece-rdcc-server-address): Default to nil.
	(riece-rdcc-ruby-command): New user option.
	(riece-rdcc-send-program): New user option.
	(riece-rdcc-decode-address-program): New user option.
	(riece-rdcc-substitute-variables): New function.
	(riece-command-dcc-send): Use it.
	(riece-rdcc-decode-address): Use it.

2003-06-01  Daiki Ueno  <ueno@unixuser.org>

	* riece-rdcc.el: New add-on.

	* Makefile.am (EXTRA_DIST): Add riece-rdcc.el

2003-06-01  Daiki Ueno  <ueno@unixuser.org>

	* riece-ndcc.el: New add-on.
	* Makefile.am (EXTRA_DIST): Add riece-ndcc.el

2003-05-31  Daiki Ueno  <ueno@unixuser.org>

	* riece-server.el (riece-open-server): Simplify message.

	* riece-commands.el (riece-command-open-server): Throw an error
	when the server is already opened.

	* riece-filter.el (riece-sentinel): Simplified.

	* riece-display.el (riece-user-list-update-buffer): Check the
	existence of riece-user-list-buffer.
	(riece-channel-list-update-buffer): Check the existence of
	riece-channel-list-buffer.
	(riece-set-window-points): Ditto.

	* riece-commands.el (riece-command-open-server): Simplified.
	(riece-command-toggle-channel-buffer-mode): Set
	riece-save-variables-are-dirty to t.
	(riece-command-toggle-user-list-buffer-mode): Ditto.
	(riece-command-toggle-channel-list-buffer-mode): Ditto.

	* riece-server.el (riece-start-server): Abolish.
	(riece-open-server): Set riece-server-process-alist and
	riece-server-process here.

2003-05-31  Daiki Ueno  <ueno@unixuser.org>

	* riece-filter.el (riece-sentinel): Close process even if
	riece-reconnect-with-password == t.
	(riece-handle-message): Catch errors occured in hooks.

	* riece-server.el (riece-open-server): Reuse server buffer.
	(riece-close-server-process): Delete process even if process is
	not running.

2003-05-31  Daiki Ueno  <ueno@unixuser.org>

	* riece-server.el (riece-open-server): No need to reset
	riece-reconnect-with-password.

	* riece-filter.el (riece-sentinel): Don't call riece when
	riece-reconnect-with-password = t and process !=
	riece-server-process.

	* riece-url.el: Fix usage.

	* riece-inlines.el (string-list-member-ignore-case): Remove docstring.

	* riece-unread.el: New add-on.
	* COMPILE (riece-modules): Add riece-unread.
	* Makefile.am (EXTRA_DIST): Add riece-unread.el

	* riece-300.el (riece-handle-322-message): New handler.
	(riece-handle-323-message): New handler.

2003-05-30  Daiki Ueno  <ueno@unixuser.org>

	* riece-display.el (riece-configure-windows): Select other window
	when minibuffer is active.

	* riece-commands.el (riece-command-list): New command.
	(riece-command-enter-message-as-notice): New command.
	* riece.el (riece-command-mode-map): Bind
	riece-command-enter-message-as-notice and riece-command-list.

	* riece-server.el (riece-close-server): Skip nil when leaving
	channels before closing server.

2003-05-30  Daiki Ueno  <ueno@unixuser.org>

	* Riece: Version 0.0.2 released.
	* riece-version.el (riece-version-number): Bump up to 0.0.2.

	* riece.el (riece-load-and-build-addon-dependencies): Fixed.
	* riece-url.el (riece-url-requires): Don't assert dependency on
	riece-highlight unless it appears in riece-addons.

	* riece-url.el: New add-on.
	* COMPILE (riece-modules): Add riece-url.

	* riece-message.el (riece-message-make-bracket): Abolish.
	* riece-highlight.el (riece-highlight-font-lock-keywords):
	Give up to fontify "-nick-" or "-nick server-".

	* riece-highlight.el (riece-highlight-font-lock-keywords):
	Simplified regexp.

	* riece-ctcp.el (riece-handle-ctcp-request): Don't bind user.
	(riece-handle-ctcp-response): Ditto.

	* riece-highlight.el: Make it an add-on.
	(riece-highlight-insinuate): New function.
	* riece.el: Don't require 'riece-highlight.
	* riece-options.el (riece-addons): Turn on riece-highlight and
	riece-ctcp by default.

	* riece-display.el (riece-configure-windows-predicate): New function.
	(riece-configure-windows-predicate): New user option.
	(riece-redisplay-buffers): Use it.

	* riece-complete.el: Require 'cl for butlast.

	* Makefile.am (elc): Renamed from "compile".

	* riece.el (riece-dialogue-mode-map): Bind
	riece-command-toggle-channel-list-buffer-mode.

	* riece-display.el (riece-configure-windows): Typo fixed.

	* riece-user.el (riece-user-toggle-channel): Use member instead of
	memq.

2003-05-29  Daiki Ueno  <ueno@unixuser.org>

	* riece-ctcp.el (riece-ctcp-insinuate): New function.

	* riece-options.el (riece-addons): New user option.
	(riece-addon-directory): New user option.

	* riece.el (riece-load-and-build-addon-dependencies): New function.
	(riece-insinuate-addons): New function.
	(riece): Call riece-insinuate-addons.

	* riece-misc.el (riece-get-users-on-server): Moved from
	riece-commands.el.

	* riece-ctcp.el: New file.
	* COMPILE (riece-modules): Add riece-ctcp.
	* Makefile.am (EXTRA_DIST): Add riece-ctcp.el

2003-05-29  Daiki Ueno  <ueno@unixuser.org>

	* Riece: Version 0.0.1 released.

	* riece-commands.el (riece-command-names): New command.
	(riece-command-who): New command.

	* riece.el (riece-dialogue-mode-map): Bind riece-command-names and
	riece-command-who.

	* riece-300.el (riece-handle-341-message): New handler.
	(riece-handle-352-message): New handler.

	* riece-commands.el (riece-command-invite): Don't accept channel
	argument; throw an error when user is not on a channel.
	(riece-command-kick): New command.
